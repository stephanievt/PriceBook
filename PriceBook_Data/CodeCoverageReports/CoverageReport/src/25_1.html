<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>c:\dev\PriceBook\PriceBook_Data\UnitTypes.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Collections;
using System.Text;

namespace PriceBook_Data
{
    public class UnitTypes : IEnumerable&lt;UnitType&gt;
    {
        private readonly List&lt;UnitType&gt; _unitTypes = new List&lt;UnitType&gt;();


        public UnitTypes(bool loadAllFromDb = false)
        {
            if (loadAllFromDb)
            {
                using (ApplicationContext context = new ApplicationContext())
                {
                    _unitTypes = context.UnitType.ToList();
                }

                foreach (var ut in _unitTypes)
                {
                    ut.IsAttached = true;
                }
            }
        }

        public int Count =&gt; _unitTypes.Count;


        public UnitType this[int i] =&gt; _unitTypes[i];

        public IEnumerator&lt;UnitType&gt; GetEnumerator()
        {
            return _unitTypes.GetEnumerator();
        }

        public override string ToString()
        {
            StringBuilder builder = new StringBuilder();
            foreach (UnitType ut in _unitTypes)
            {
                builder.AppendLine(ut.ToString());
            }

            return builder.ToString();
        }

        [System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverageAttribute] // satisfaction of IEnumerable does
        // not require coverage.
        IEnumerator IEnumerable.GetEnumerator()
        {
            return GetEnumerator();
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[8,9,8,75,1],[11,9,11,53,1],[12,9,12,10,1],[13,13,13,31,1],[14,13,14,14,1],[15,24,15,77,1],[16,17,16,18,1],[17,21,17,60,1],[18,17,18,18,1],[20,17,20,24,1],[20,26,20,32,1],[20,33,20,35,1],[20,36,20,46,1],[21,17,21,18,1],[22,21,22,42,1],[23,17,23,18,1],[24,13,24,14,1],[25,9,25,10,1],[27,29,27,45,1],[30,40,30,53,1],[33,9,33,10,1],[34,13,34,47,1],[35,9,35,10,1],[38,9,38,10,1],[39,13,39,57,1],[40,13,40,20,1],[40,22,40,33,1],[40,34,40,36,1],[40,37,40,47,1],[41,13,41,14,1],[42,17,42,51,1],[43,13,43,14,1],[45,13,45,39,1],[46,9,46,10,1]]);
    </script>
  </body>
</html>