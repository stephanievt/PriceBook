<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>c:\dev\PriceBook\PriceBook_Data\Units.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
namespace PriceBook_Data
{
    public class Units 
    {

        private readonly List&lt;Unit&gt; _units = new List&lt;Unit&gt;();

        public Units(bool loadFromDb = false)
        {
            if (loadFromDb)
            {
                ApplicationContext context = new ApplicationContext();
                _units = context.Unit.ToList();
            }
        }

        public Units(UnitType unitType)
        {
            ApplicationContext context = new ApplicationContext();
            _units = context.Unit.Where(u =&gt; u.UnitTypeId == unitType.Id).ToList();
        }

        public void Add(Unit unit)
        {
            _units.Add(unit);
        }

        public int Count =&gt; _units.Count;

        public bool IsIn(int id)
        {
            foreach (var currentUnit in _units)
            {
                if (currentUnit.Id == id) return true;
            }

            return false;
        }

        public Unit this[int i] =&gt; _units[i];

    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[6,9,6,63,1],[6,9,6,63,1],[8,9,8,46,1],[9,9,9,10,1],[10,13,10,28,1],[11,13,11,14,1],[12,17,12,71,1],[13,17,13,48,1],[14,13,14,14,1],[15,9,15,10,1],[17,9,17,40,1],[18,9,18,10,1],[19,13,19,67,1],[20,13,20,84,1],[21,9,21,10,1],[24,9,24,10,1],[25,13,25,30,1],[26,9,26,10,1],[28,29,28,41,1],[31,9,31,10,1],[32,13,32,20,1],[32,22,32,37,1],[32,38,32,40,1],[32,41,32,47,1],[33,13,33,14,1],[34,17,34,42,1],[34,43,34,55,1],[35,13,35,14,1],[37,13,37,26,1],[38,9,38,10,1],[40,36,40,45,1]]);
    </script>
  </body>
</html>